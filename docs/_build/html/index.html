<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="xeye" href="modules.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Xeye 1.6 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">Xeye 1.6 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="#">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Xeye 1.6 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="modules.html">xeye</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of xeye</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="xeye.usb.html">xeye.usb</a></li>
<li class="toctree-l2"><a class="reference internal" href="xeye.tools.html">xeye.tools</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="xeye">
<h1>Xeye<a class="headerlink" href="#xeye" title="Link to this heading">#</a></h1>
<p>Xeye is a package for data collection to build computer vision applications based on inferential results of deep learning models. The main reasons to use Xeye are:</p>
<ul class="simple">
<li><p>Create a dataset using only a laptop and its integrated camera (or alternatively an external USB camera).</p></li>
<li><p>Create a dataset already structured like the <a class="reference external" href="https://www.tensorflow.org/datasets/catalog/mnist">mnist</a>.</p></li>
<li><p>Create a dataset that can be used for building models with <a class="reference external" href="https://www.tensorflow.org/">Tensorflow</a> or <a class="reference external" href="https://pytorch.org/">Pytorch</a>.</p></li>
</ul>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">#</a></h2>
<p>To install the package,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">pip install xeye</span>
</pre></div>
</div>
</section>
<section id="xeye-datasets-for-deep-learning">
<h2>Xeye datasets for deep learning<a class="headerlink" href="#xeye-datasets-for-deep-learning" title="Link to this heading">#</a></h2>
<p>In the <a class="reference external" href="https://github.com/marcosalvalaggio/xeye/tree/main/examples">examples</a> folder of the repository, you can find examples of deep learning model implementations based on datasets produced by the Xeye package (made with <a class="reference external" href="https://www.tensorflow.org/">Tensorflow</a> or <a class="reference external" href="https://pytorch.org/">Pytorch</a>).</p>
<ul class="simple">
<li><p><a class="reference external" href="https://drive.google.com/drive/folders/1qvoFa4SRWirXj7kdWhhcqrQ8mTIHpkuJ?usp=sharing">Binary dataset</a>: containing two types of grayscale images (with labels: 0=keyboard, 1=mouse).</p></li>
<li><p><a class="reference external" href="https://drive.google.com/drive/folders/1qvoFa4SRWirXj7kdWhhcqrQ8mTIHpkuJ?usp=sharing">MultiLabel dataset</a>: containing three types of rgb images (three types of security cameras with labels: 0=dome, 1=bullet, 2=cube)</p></li>
</ul>
<p>Additionally, the <a class="reference external" href="https://github.com/marcosalvalaggio/xeye/tree/main/examples">examples</a> folder of the repository contains scripts that use the Xeye package to build datasets (<a class="reference external" href="https://github.com/marcosalvalaggio/xeye/tree/main/examples/xeye-example">link</a>).</p>
</section>
<section id="functionalities">
<h2>Functionalities<a class="headerlink" href="#functionalities" title="Link to this heading">#</a></h2>
<p>The Xeye package includes three major approaches (classes) for creating a dataset from scratch: Dataset, FastDataset, and ManualDataset.</p>
<ul class="simple">
<li><p><strong>Dataset</strong>: Uses the full terminal UI.</p></li>
<li><p><strong>FastDataset</strong>: Uses the constructor with all the specifications of the dataset.</p></li>
<li><p><strong>ManualDataset</strong>: Same as FastDataset, but every image is shot manually one at a time.</p></li>
</ul>
<p>Additionally, the package provides a method for combining datasets created with the <strong>BuildDataset</strong> class.</p>
</section>
<section id="create-a-dataset-with-full-terminal-ui-dataset">
<h2>Create a dataset with full terminal UI (Dataset)<a class="headerlink" href="#create-a-dataset-with-full-terminal-ui-dataset" title="Link to this heading">#</a></h2>
<p>First of all, load the module datapipe from the package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xeye</span>
</pre></div>
</div>
<p>then initialize the instance like this</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">xeye</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</pre></div>
</div>
<p>the execution of this method causes the starting of the user interface in the <strong>terminal</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">--- CAMERA SETTING ---</span>
<span class="go">Select the index of the camera that you want to use for creating the dataset: 1</span>
</pre></div>
</div>
<p>The initialization method raises multiple questions regarding the setting of parameter values.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">--- IMAGE SETTINGS ---</span>
<span class="go">Num. of types of images to scan: 2</span>
<span class="go">Name of image type (1): keyboard</span>
<span class="go">Name of image type (2): mouse</span>
<span class="go">Num. of frames to shoot for every image type: 10</span>
<span class="go">Single frame HEIGHT: 720</span>
<span class="go">Single frame WIDTH:  720</span>
<span class="go">num. of waiting time (in sec.) between every frame: 0</span>
</pre></div>
</div>
<p>Precisely the questions refer to:</p>
<ul class="simple">
<li><p><strong>Select the index of the camera that you want to use for creating the dataset</strong>: Generally 0 for integrated camera, 1 for USB external camera.</p></li>
<li><p><strong>Num. of types of images to scan</strong>: Answer 2 if you want to create a dataset with two objects (e.g. keyboard and mouse). In general, answer with the number of object types to include in your dataset.</p></li>
<li><p><strong>Name of image type</strong>: Insert the name of every specific object you want to include in the dataset. The <strong>setup</strong> method creates a named folder for every image type.</p></li>
<li><p><strong>Num. of frames to shoot for every image type</strong>: Select the number of images you want to shoot and save them in every object folder.</p></li>
<li><p><strong>Single frame HEIGHT</strong>: Frame height values.</p></li>
<li><p><strong>Single frame WIDTH</strong>: Frame width values.</p></li>
<li><p><strong>Num. of waiting time (in sec.) between every frame</strong>: e.g 0.2 causes a waiting time of 0.2 seconds between every shoot.</p></li>
</ul>
<p>After the parameters setting, you can invoke the method to start shooting images. Datapipe module provides two different formats of images:</p>
<ul class="simple">
<li><p>Grayscale image with the <strong>gray</strong> method;</p></li>
<li><p>Color image with the <strong>rgb</strong> method.</p></li>
</ul>
<p>Let’s produce a dataset based on RGB images with the <strong>rgb</strong> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">rgb</span><span class="p">()</span>
</pre></div>
</div>
<p>In the terminal keypress [b], to make photos for the image types passed to the <strong>setup</strong> method.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">--- START TAKING PHOTOS ---</span>
<span class="go">Press [b] on the keyboard to start data collection of image type [keyboard]</span>
<span class="go">b</span>
<span class="go">Press [b] on the keyboard to start data collection of image type [mouse]</span>
<span class="go">b</span>
</pre></div>
</div>
<p>On the directory of the script, you can find the folders that contain the images produced by the <strong>rbg</strong> method (e.g. keyboard folder and mouse folder).</p>
<p>Images collected in the folders can be used for building datasets like the <a class="reference external" href="https://www.tensorflow.org/datasets/catalog/mnist">mnist</a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">compress_train_test</span><span class="p">()</span>
</pre></div>
</div>
<p>That produces the following output in the terminal window</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">--- DATASET SETTING ---</span>
<span class="go">percentage of images in the test set: 0.2</span>
</pre></div>
</div>
<p>In which you can select the portion of images to use in the train and test datasets (write a value between (0,1)). By doing so, the method produces a <strong>.npz</strong> file formed by these specific tensors:</p>
<ul class="simple">
<li><p>Train set:</p>
<ul>
<li><p><strong>X_train</strong>: Matrices/tensors of every single image in the train dataset;</p></li>
<li><p><strong>y_train</strong>: Classes (ordinal values) are associated with every image in the train dataset.</p></li>
</ul>
</li>
<li><p>Test set:</p>
<ul>
<li><p><strong>X_test</strong>: matrices/tensors of every single image in the test dataset;</p></li>
<li><p><strong>y_test</strong>: classes (ordinal values) are associated with every image in the test dataset.</p></li>
</ul>
</li>
</ul>
<p>(Matrices for grayscale images are represented by <span class="math notranslate nohighlight">\(Height \times Width \times 1\)</span> matrices, while tensors for RGB images are represented by <span class="math notranslate nohighlight">\(Height \times Width \times 3\)</span> tensors.)</p>
<p>An alternative approach is represented by the use of the <strong>compress_all</strong> method</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">compress_all</span><span class="p">()</span>
</pre></div>
</div>
<p>In this case, the images are united in a unique tensor that contains all the frames produced previously.</p>
<ul class="simple">
<li><p>Unique tensor:</p>
<ul>
<li><p><strong>X</strong>: Matricies/tensors of every single image produced;</p></li>
<li><p><strong>y</strong>: Classes (ordinal values) are associated with every image produced.</p></li>
</ul>
</li>
</ul>
<p>Finally, you can use the <strong>just_compress</strong> method to create a unique tensor with all the images produced.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="n">just_compress</span><span class="p">()</span>
</pre></div>
</div>
<p>In the terminal, you have to insert the dataset’s name</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">--- DATASET SETTING ---</span>
<span class="go">Select a name for the compressed file: batch_test</span>
</pre></div>
</div>
<p>If you pass 0, by default the dataset will be save with the name <strong>dataset_raw.npz</strong>. The dataset produced by this method can be used by the class <strong>BuildDataset</strong> to put together more .npz files and create a dataset like the <a class="reference external" href="https://www.tensorflow.org/datasets/catalog/mnist">mnist</a>.</p>
<section id="other-useful-methods">
<h3>Other useful methods<a class="headerlink" href="#other-useful-methods" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>preview</strong>: Open the camera stream to check the framing.</p></li>
<li><p><strong>var_control</strong>: Print the values of the parameters set with the <strong>setup</strong> method.</p></li>
</ul>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">--- PARAMETERS CONTROL ---</span>
<span class="go">camera index: 1</span>
<span class="go">num. of images types: 2</span>
<span class="go">labels of images types: [&#39;keyboard&#39;, &#39;mouse&#39;]</span>
<span class="go">num. of images for types: 20</span>
<span class="go">Single frame HEIGHT: 720</span>
<span class="go">Single frame WIDTH:  720</span>
<span class="go">waiting time between frames: 0.0</span>
<span class="go">percentage of images in train dataset: 0.2</span>
</pre></div>
</div>
</section>
<section id="script-example">
<h3>Script example<a class="headerlink" href="#script-example" title="Link to this heading">#</a></h3>
<p>Example of a script to use the <strong>Dataset</strong> class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xeye</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">xeye</span><span class="o">.</span><span class="n">dataset</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">preview</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">rgb</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">compress_train_test</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">compress_all</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">just_compress</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="create-a-dataset-with-fast-ui-fastdataset">
<h2>Create a dataset with fast UI (FastDataset)<a class="headerlink" href="#create-a-dataset-with-fast-ui-fastdataset" title="Link to this heading">#</a></h2>
<p>The <strong>FastDataset</strong> class provides a faster way to use the datapipe module. Unlike the <strong>Dataset</strong> class, it does not have a complete terminal UI to guide you through the dataset construction process. Instead, you simply pass the parameters to the class and call the necessary methods.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xeye</span>
<span class="c1"># define parameters values</span>
<span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">img_types</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">label</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;keyboard&#39;</span><span class="p">,</span> <span class="s1">&#39;mouse&#39;</span><span class="p">]</span>
<span class="n">num</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">height</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">width</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">standby_time</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># percentage of images in the test set</span>
<span class="n">perc</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">xeye</span><span class="o">.</span><span class="n">FastDataset</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="n">img_types</span> <span class="o">=</span> <span class="n">img_types</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="n">label</span><span class="p">,</span> <span class="n">num</span> <span class="o">=</span> <span class="n">num</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="n">width</span><span class="p">,</span> <span class="n">stand_by_time</span> <span class="o">=</span> <span class="n">standby_time</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">preview</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">rgb</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">compress_train_test</span><span class="p">(</span><span class="n">perc</span> <span class="o">=</span> <span class="n">perc</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">compress_all</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">just_compress</span><span class="p">(</span><span class="s2">&quot;batch_test&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The parameters passed to the class <strong>FastDataset</strong>:</p>
<p>The parameters passed to the class <strong>FastDataset</strong>:</p>
<ul class="simple">
<li><p><strong>index</strong>: Generally 0 for integrated camera, 1 for USB external camera.</p></li>
<li><p><strong>img_types</strong>: Numbers of object types that you want to include in your dataset.</p></li>
<li><p><strong>label</strong>: List of object names to include in the dataset. The constructor method creates a named folder for every image type.</p></li>
<li><p><strong>num</strong>: Select the number of images you want to shoot and save them in every object folder.</p></li>
<li><p><strong>height</strong>: Frame height values.</p></li>
<li><p><strong>width</strong>: Frame width values.</p></li>
<li><p><strong>standby_time</strong>: e.g 0.2 cause a waiting time of 0.2 seconds between every shoot.</p></li>
</ul>
<p>For split images in the train and test dataset, pass a value between (0,1) to the perc parameter of the <strong>compress_train_test</strong> method</p>
<ul class="simple">
<li><p><strong>perc</strong>: the portion of images to use in the test dataset, write a value between (0,1).</p></li>
</ul>
<p>If you don’t pass any value to the <strong>just_compress</strong> method, the dataset will be saved with the name <strong>dataset_raw.npz</strong>.</p>
</section>
<section id="create-a-dataset-with-manual-ui-manualdataset">
<h2>Create a dataset with manual UI (ManualDataset)<a class="headerlink" href="#create-a-dataset-with-manual-ui-manualdataset" title="Link to this heading">#</a></h2>
<p>The <strong>ManualDataset</strong> class is how you can build a dataset by taking pictures manually.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xeye</span>
<span class="c1"># define parameters values</span>
<span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">img_types</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">label</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;keyboard&#39;</span><span class="p">,</span> <span class="s1">&#39;mouse&#39;</span><span class="p">]</span>
<span class="n">num</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">height</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">width</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">standby_time</span> <span class="o">=</span> <span class="mi">0</span>
<span class="c1"># percentage of images in the test set</span>
<span class="n">perc</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">xeye</span><span class="o">.</span><span class="n">ManualDataset</span><span class="p">(</span><span class="n">index</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="n">img_types</span> <span class="o">=</span> <span class="n">img_types</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="n">label</span><span class="p">,</span> <span class="n">num</span> <span class="o">=</span> <span class="n">num</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">height</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="n">width</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">preview</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">rgb</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">compress_train_test</span><span class="p">(</span><span class="n">perc</span> <span class="o">=</span> <span class="n">perc</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">compress_all</span><span class="p">()</span>
<span class="n">data</span><span class="o">.</span><span class="n">just_compress</span><span class="p">(</span><span class="s2">&quot;batch_test&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>As you can see in the code snippet, the <strong>ManualDataset</strong> class works like the <strong>FastDataset</strong> class. The only difference is the absence of the <strong>standby_time option</strong>, which is no more necessary in this case.</p>
<p>The parameters passed to the class <strong>ManualDataset</strong>:</p>
<ul class="simple">
<li><p><strong>index</strong>: Generally 0 for integrated camera, 1 for USB external camera.</p></li>
<li><p><strong>img_types</strong>: Numbers of object types that you want to include in your dataset.</p></li>
<li><p><strong>label</strong>: List of object names to include in the dataset. The constructor creates a named folder for every image type.</p></li>
<li><p><strong>num</strong>: Select the number of images you want to shoot and save them in every object folder.</p></li>
<li><p><strong>height</strong>: Frame height values.</p></li>
<li><p><strong>width</strong>: Frame width values.</p></li>
</ul>
<section id="how-to-take-pictures-manually">
<h3>How to take pictures manually<a class="headerlink" href="#how-to-take-pictures-manually" title="Link to this heading">#</a></h3>
<p>In the title bar of the image window, after the caption identifying the image type, there are instructions for manually taking pictures using the ManualDataset. These instructions will be displayed as follows:</p>
<ul class="simple">
<li><p>Camera view for image type &lt;name-of-image-type&gt;. Press [s] on the keyboard to save image number: &lt;nr-of-image&gt;.</p></li>
</ul>
</section>
</section>
<section id="build-datasets-from-different-npz-files-builddataset">
<h2>Build datasets from different npz files (BuildDataset)<a class="headerlink" href="#build-datasets-from-different-npz-files-builddataset" title="Link to this heading">#</a></h2>
<p>If you want to create a dataset that includes different types of images, but cannot shoot all image types at once (e.g., due to time constraints or location differences), you can use the <strong>BuildDataset</strong> class.</p>
<ul class="simple">
<li><p>Create datasets with the <strong>just_compress</strong> method;</p></li>
<li><p>Create different .npz files for every type of images that composes the dataset (use the same colour spaces in all datasets, RGB or grayscale);</p></li>
<li><p>Create a new script and call the <strong>BuildDataset</strong> class that merges all the .npz files created before.</p></li>
</ul>
<section id="id2">
<h3>Script example<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xeye</span>
<span class="c1"># list of directory (paths for the .npz files)</span>
<span class="n">path</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;batch_2.npz&#39;</span><span class="p">,</span> <span class="s1">&#39;batch_3.npz&#39;</span><span class="p">]</span>
<span class="c1"># list of labels associated with the images inside the .npz files</span>
<span class="n">label</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">xeye</span><span class="o">.</span><span class="n">BuildDataset</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">split</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">perc</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
</pre></div>
</div>
<p>The parameters passed to the class <strong>BuildDataset</strong>:</p>
<ul class="simple">
<li><p><strong>path</strong>: List of files (.npz) path you want to include in the new dataset</p></li>
<li><p><strong>label</strong>: List of ordinal integer values representing the class type of the images inside a .npz file contained in the new dataset. In the example script, the first .npz file images are associated with class 0, while the second .npz file images are associated with class 1. Remember: always start with 0.</p></li>
<li><p><strong>size</strong>: Tuple (height, width) for the images in the new dataset created. The default value (None) indicates that new images have the maximum height and width found in the datasets listed as dimensions</p></li>
<li><p><strong>color</strong>: Defines if the images contained in the .npz files are RGB or grayscale. A boolean value, by default, is set to True (meaning RGB images).</p></li>
<li><p><strong>split</strong>: Defines if you want to build a dataset split in train-test or not. A boolean value, by default, is set to True.</p></li>
<li><p><strong>perc</strong>: Defines the percentage of images assigned to the test dataset. A floating value between (0,1). It’s set to 0.1 by default.</p></li>
</ul>
<p>When you want to use the <strong>BuildDataset</strong> class, you need to have .npz files containing images with the same types of colour spaces (all grayscale images or RGB).</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">xeye</a><ul>
<li class="toctree-l2"><a class="reference internal" href="xeye.usb.html">xeye.usb</a></li>
<li class="toctree-l2"><a class="reference internal" href="xeye.tools.html">xeye.tools</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="modules.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">xeye</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Marco Salvalaggio
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Xeye</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#xeye-datasets-for-deep-learning">Xeye datasets for deep learning</a></li>
<li><a class="reference internal" href="#functionalities">Functionalities</a></li>
<li><a class="reference internal" href="#create-a-dataset-with-full-terminal-ui-dataset">Create a dataset with full terminal UI (Dataset)</a><ul>
<li><a class="reference internal" href="#other-useful-methods">Other useful methods</a></li>
<li><a class="reference internal" href="#script-example">Script example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-a-dataset-with-fast-ui-fastdataset">Create a dataset with fast UI (FastDataset)</a></li>
<li><a class="reference internal" href="#create-a-dataset-with-manual-ui-manualdataset">Create a dataset with manual UI (ManualDataset)</a><ul>
<li><a class="reference internal" href="#how-to-take-pictures-manually">How to take pictures manually</a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-datasets-from-different-npz-files-builddataset">Build datasets from different npz files (BuildDataset)</a><ul>
<li><a class="reference internal" href="#id2">Script example</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=9d552775"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>